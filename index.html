<!doctype html>
<html>
	<head>
		<title>Seed randomizer</title>
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" />
		<link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/smoothness/jquery-ui.css" />
		<style>
			.extraPadding {
				padding: 10px;
			}
		</style>
	</head>

	<body>
		<div class="container-fluid">
			<div class="row">
				<div class="col-sm-4">
					<table class="table">
						<tbody>
							<tr>
								<td>Amount of groups</td><td><input class="groups" type="range" min="1" max="15" value="4" /></td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>

			<div class="row">
				<div class="col-sm-4">
					<div class="row">
						<p style="font-size:32px;"><b>Divide users with a new line</b></p>
					</div>

					<div class="row">
						<div class="col-sm-12">
							<p><b>Top seed</b></p>
							<textarea id="topTextArea" rows="4" class="form-control"></textarea>
						</div>
					</div>

					<div class="extraPadding"></div>

					<div class="row">
						<div class="col-sm-12">
							<p><b>High seed</b></p>
							<textarea id="highTextArea" rows="4" class="form-control"></textarea>
						</div>
					</div>

					<div class="extraPadding"></div>

					<div class="row">
						<div class="col-sm-12">
							<p><b>Low seed</b></p>
							<textarea id="lowTextArea" rows="4" class="form-control"></textarea>
						</div>
					</div>

					<div class="extraPadding"></div>

					<div class="row">
						<div class="col-sm-12">
							<p><b>Unseeded</b></p>
							<textarea id="unseededTextArea" rows="4" class="form-control"></textarea>
						</div>
					</div>

					<div class="extraPadding"></div>

					<div class="row">
						<div class="col-sm-12">
							<button id="randomize" type="button" class="btn btn-primary pull-right">Randomize</button>
						</div>
					</div>
				</div>

				<div class="col-sm-8">
					<div class="row">
						<p style="font-size:32px;"><b>Results</b></p>
					</div>

					<div class="row">
						<div class="col-sm-12" id="allGroups">
						</div>
					</div>
				</div>
			</div>
		</div>
	</body>

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
	<script>
		$(document).ready(function() {
			var amountOfGroups = $(".groups").val();
			for(var i = 1; i <= amountOfGroups; i ++)
				$("#allGroups").append('<table class="table table-striped"><thead><th>Group ' + i + '</th></thead><tbody id="group' + i + 'TableBody"></tbody></table>');

			$(".groups").on("input", function() {
				$("#allGroups").empty();
				for(var i = 1; i <= $(".groups").val(); i ++)
					$("#allGroups").append('<table class="table table-striped"><thead><th>Group ' + i + '</th></thead><tbody id="group' + i + 'TableBody"></tbody></table>');
			});

			$("#randomize").on('click', function() {
				$("#group1TableBody").empty();
				$("#group2TableBody").empty();
				$("#group3TableBody").empty();
				$("#group4TableBody").empty();

				var topSeedTextarea = $("#topTextArea").val().split(/\n/);
				var highSeedTextarea = $("#highTextArea").val().split(/\n/);
				var lowSeedTextarea = $("#lowTextArea").val().split(/\n/);
				var unseededTextarea = $("#unseededTextArea").val().split(/\n/);

				if(topSeedTextarea.length !== $(".groups").val()) {
					alert("The Topseed doesn't have enough players. Players required: " + $(".groups").val() + ", currently filled in: " + topSeedTextarea.length + ".");
					return;
				}

				if(highSeedTextarea.length !== $(".groups").val()) {
					alert("The Topseed doesn't have enough players. Players required: " + $(".groups").val() + ", currently filled in: " + highSeedTextarea.length + ".");
					return;
				}

				if(lowSeedTextarea.length !== $(".groups").val()) {
					alert("The Topseed doesn't have enough players. Players required: " + $(".groups").val() + ", currently filled in: " + lowSeedTextarea.length + ".");
					return;
				}

				if(unseededTextarea.length !== $(".groups").val()) {
					alert("The Topseed doesn't have enough players. Players required: " + $(".groups").val() + ", currently filled in: " + unseededTextarea.length + ".");
					return;
				}

				shuffle(topSeedTextarea);
				shuffle(highSeedTextarea);
				shuffle(lowSeedTextarea);
				shuffle(unseededTextarea);

				for(var i = 1; i <= $(".groups").val(); i ++)
					$("#group" + i + "TableBody").append("<tr><td>" + topSeedTextarea[i - 1] + "</td></tr>");

				for(var i = 1; i <= $(".groups").val(); i ++)
					$("#group" + i + "TableBody").append("<tr><td>" + highSeedTextarea[i - 1] + "</td></tr>");

				for(var i = 1; i <= $(".groups").val(); i ++)
					$("#group" + i + "TableBody").append("<tr><td>" + lowSeedTextarea[i - 1] + "</td></tr>");

				for(var i = 1; i <= $(".groups").val(); i ++)
					$("#group" + i + "TableBody").append("<tr><td>" + unseededTextarea[i - 1] + "</td></tr>");
			});
		});

		function shuffle(array) {
			var currentIndex = array.length, temporaryValue, randomIndex;
			while (0 !== currentIndex) {
				randomIndex = Math.floor(Math.random() * currentIndex);
				currentIndex -= 1;
				temporaryValue = array[currentIndex];
				array[currentIndex] = array[randomIndex];
				array[randomIndex] = temporaryValue;
			}
			return array;
		}
	</script>
</html>
